# =============================================================================
# MySQL 8 – Configuração customizada para Laravel local
# =============================================================================

[mysqld]

# ----- Charset & Collation ---------------------------------------------------
character-set-server  = utf8mb4
collation-server      = utf8mb4_unicode_ci
skip-character-set-client-handshake

# ----- Timezone --------------------------------------------------------------
default-time-zone     = '-03:00'

# ----- InnoDB ----------------------------------------------------------------
innodb_buffer_pool_size     = 256M   # ~70% da RAM dedicada ao MySQL
innodb_log_file_size        = 64M
innodb_flush_log_at_trx_commit = 1   # ACID completo
innodb_flush_method         = O_DIRECT
innodb_file_per_table       = 1

# ----- Query Cache (removido no MySQL 8, mantendo comentário informativo) ----
# query_cache_type = 0

# ----- Conexões --------------------------------------------------------------
max_connections           = 100
wait_timeout              = 300
interactive_timeout       = 300

# ----- Binlog (desabilitado em dev; habilite em prod para replicação) --------
skip-log-bin

# ----- Performance Schema (desabilitado em dev para economizar RAM) ----------
performance_schema        = OFF

# ----- SQL Mode (padrão restrito – alinhado com produção) --------------------
sql_mode = STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION

[client]
default-character-set = utf8mb4

[mysql]
default-character-set = utf8mb4
